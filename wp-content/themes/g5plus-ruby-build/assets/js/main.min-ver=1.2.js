!function(i){"use strict";var e=window.G5_Main||{};window.G5_Main=e;var n=i(window),t=i("body"),o=t.hasClass("rtl"),s=navigator.userAgent.toLowerCase();s.match(/(iphone|ipod|android|iemobile)/),s.match(/(iphone|ipod|ipad|android|iemobile)/),s.match(/(iphone|ipod|ipad)/),s.match(/(iemobile)/);e.blog={init:function(){this.readingProcess(),this.processPostTabs()},readingProcess:function(){var e=i("#gsf-reading-process"),t=i(".single-post .gf-single-wrap .post-single");e.length>0&&t.length>0&&t.imagesLoaded(function(){var i=t.height(),o=n.height(),s=0,a=t.offset().top,r=n.scrollTop();r>a&&(s=100*(r-a)/(i-o)),s>100&&(s=100),e.css("width",s+"%"),n.scroll(function(){var s=0,a=t.offset().top,r=n.scrollTop();r>a&&(s=100*(r-a)/(i-o)),s>100&&(s=100),e.css("width",s+"%")})})},processPostTabs:function(){i(".gsf-pretty-tabs").each(function(){if(i(this).closest("[data-items-wrapper]").find(".nav-top-right").length>0){var e=i(this);i(this).closest("[data-items-wrapper]").find(".nav-top-right").on("owlInitialized",function(){var n=i(this).children(".owl-nav").outerWidth();o?e.css("margin-left",n+30):e.css("margin-right",n+30),e.gsfPrettyTabs()})}})}},e.header={init:function(){this.login_link_event()},login_link_event:function(){i(".gsf-login-link-sign-in, .gsf-login-link-sign-up").off("click").on("click",function(e){e.preventDefault();var n="gsf_user_login",o=null;i(this).hasClass("gsf-login-link-sign-up")&&(n="gsf_user_sign_up");var s="#gsf-popup-login-wrapper";t.addClass("overflow-hidden"),t.append('<div class="processing-title"><i class="fa fa-spinner fa-spin fa-fw"></i></div>'),i.ajax({type:"POST",data:"action="+n,url:g5plus_ruby_build_variable.ajax_url,success:function(e){i(".processing-title").fadeOut(function(){i(".processing-title").remove(),t.removeClass("overflow-hidden")}),i(s).length&&i(s).remove(),t.append(e),i(s).modal(),i("#gsf-popup-login-form").submit(function(e){o=null;var n=i(e.target).find('[type="submit"]');n.hasClass("ladda-button")&&n.length>0&&(o=Ladda.create(n[0])).start();var s=i("#gsf-popup-login-form").serialize();return t.addClass("overflow-hidden"),t.append('<div class="processing-title"><i class="fa fa-spinner fa-spin fa-fw"></i></div>'),jQuery.ajax({type:"POST",data:s,url:g5plus_ruby_build_variable.ajax_url,success:function(e){i(".processing-title").fadeOut(function(){i(".processing-title").remove(),t.removeClass("overflow-hidden")});var n=jQuery.parseJSON(e);n.code<0?jQuery(".login-message","#gsf-popup-login-form").html(n.message):window.location.reload(),null!==o&&(o.stop(),o.remove())},error:function(e){i(".processing-title").fadeOut(function(){i(".processing-title").remove(),t.removeClass("overflow-hidden")}),null!==o&&(o.stop(),o.remove())}}),e.preventDefault(),!1})},error:function(e){i(".loading-wrapper").fadeOut(function(){i(".loading-wrapper").remove(),t.removeClass("overflow-hidden")})}})})}},e.page={init:function(){this.rowEqualHeight(),this.events()},rowEqualHeight:function(){i(".row-equal-height").each(function(){var e=i(".gsf-product-singular",i(this)),n=i(".product-info",e).outerHeight(),t=i(".gf-banner",i(this)),o=i(".gf-banner-bg",t);if(G5_Core.util.isDesktop()){var s=i(".image-item",i(".product-singular-images",e)),a=s.outerHeight(),r=n+a;o.css("padding-bottom",r+"px"),i(".product-singular-images",e).on("owlInitialized",function(){s=i(".image-item",i(this)),a=s.outerHeight(),r=n+a,o.css("padding-bottom",r+"px")})}else o.css("padding-bottom","")})},events:function(){i(window).on("resize",function(){setTimeout(function(){e.page.rowEqualHeight()},500)})}},i(document).ready(function(){e.blog.init(),e.header.init(),e.page.init()})}(jQuery);